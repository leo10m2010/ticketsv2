<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Generador de Tickets - Eventos</title>
	<meta name="description" content="Generador de tickets personalizado para eventos con dise√±o profesional">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Preconnect para mejor rendimiento -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

	<!-- Fuentes combinadas en una sola petici√≥n -->
	<link
		href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Staatliches&family=Nanum+Pen+Script&family=Imperial+Script&family=Style+Script&display=swap"
		rel="stylesheet">

	<link rel="stylesheet" href="https://public.codepenassets.com/css/reset-2.0.min.css">
	<link rel="stylesheet" href="./src/styles/style.css">

</head>

<body>
	<link rel="stylesheet" href="./src/styles/font-awesome-custom.css" />

	<!-- Dashboard de Configuraci√≥n -->
	<div id="dashboard" class="dashboard">
		<div class="dashboard-container">
			<button id="themeToggle" class="theme-toggle" title="Cambiar tema">
				<i class="fas fa-moon"></i>
			</button>
			<h1><i class="fas fa-ticket-alt"></i> Generador de Tickets</h1>

			<div class="config-grid">
				<!-- COLUMNA 1: Secciones peque√±as -->
				<div class="config-section">
					<h3>üî¢ Rango de N√∫meros</h3>
					<div class="form-row">
						<div class="form-group">
							<label>Desde:</label>
							<input type="number" id="startNumber" value="1" min="1">
						</div>
						<div class="form-group">
							<label>Hasta:</label>
							<input type="number" id="endNumber" value="50" min="1">
						</div>
					</div>
					<div class="form-group">
						<label>Modo de Ticket:</label>
						<select id="ticketMode">
							<option value="full">Completo (3 secciones)</option>
							<option value="compact">Compacto (imagen + talon)</option>
						</select>
					</div>
					<div class="form-group">
						<label>Tickets por P√°gina:</label>
						<select id="ticketsPerPage">
							<option value="1">1 ticket</option>
							<option value="2">2 tickets</option>
							<option value="4">4 tickets</option>
							<option value="6">6 tickets</option>
							<option value="8">8 tickets</option>
						</select>
					</div>
				</div>

				<div class="config-section">
					<h3>üìÖ Fecha del Evento</h3>
					<div class="form-group">
						<label>Seleccionar Fecha:</label>
						<input type="date" id="eventDate" value="2025-10-17">
					</div>
					<div class="form-row">
						<div class="form-group">
							<label>D√≠a:</label>
							<input type="text" id="dayOfWeek" value="VIERNES" readonly>
						</div>
						<div class="form-group">
							<label>A√±o:</label>
							<input type="text" id="year" value="2025" readonly>
						</div>
					</div>
					<div class="form-group">
						<label>Fecha (texto):</label>
						<input type="text" id="dateText" value="17 DE OCTUBRE" readonly>
					</div>
				</div>

				<div class="config-section">
					<h3>üé® Color de Fecha</h3>
					<div class="color-selector">
						<div class="color-option selected" data-color="#d83565" style="background-color: #d83565;">
						</div>
						<div class="color-option" data-color="#F23545" style="background-color: #F23545;"></div>
						<div class="color-option" data-color="#157EBF" style="background-color: #157EBF;"></div>
						<div class="color-option" data-color="#1BA64B" style="background-color: #1BA64B;"></div>
						<div class="color-option" data-color="#F2C029" style="background-color: #F2C029;"></div>
						<input type="color" id="dateColorCustom" value="#d83565" class="color-picker">
					</div>
					<input type="hidden" id="dateColor" value="#d83565">
				</div>

				<div class="config-section">
					<h3>üìù Configuraci√≥n de Textos</h3>

					<!-- T√çTULO -->
					<div class="text-config-group">
						<h4>T√≠tulo Principal</h4>
						<div class="form-group">
							<label>Texto:</label>
							<input type="text" id="eventTitle" value="MES MORADO">
						</div>
						<div class="form-row">
							<div class="form-group">
								<label>Fuente:</label>
								<select id="titleFont">
									<option value="Staatliches" selected>Staatliches</option>
									<option value="Poppins">Poppins</option>
									<option value="Nanum Pen Script">Nanum Pen Script</option>
									<option value="Imperial Script">Imperial Script</option>
									<option value="Style Script">Style Script</option>
									<option value="Arial">Arial</option>
									<option value="Impact">Impact</option>
								</select>
							</div>
							<div class="form-group">
								<label>Tama√±o (px):</label>
								<input type="number" id="titleSize" value="45" min="20" max="100">
							</div>
						</div>
						<div class="form-group">
							<label>Color:</label>
							<div class="color-selector">
								<div class="color-option" data-color="#F23545" style="background-color: #F23545;"></div>
								<div class="color-option" data-color="#157EBF" style="background-color: #157EBF;"></div>
								<div class="color-option" data-color="#1BA64B" style="background-color: #1BA64B;"></div>
								<div class="color-option" data-color="#F2C029" style="background-color: #F2C029;"></div>
								<div class="color-option selected" data-color="#4a437e"
									style="background-color: #4a437e;"></div>
								<input type="color" id="titleColorCustom" value="#4a437e" class="color-picker">
							</div>
							<input type="hidden" id="titleColor" value="#4a437e">
						</div>
					</div>

					<!-- SUBT√çTULO -->
					<div class="text-config-group">
						<h4>Subt√≠tulo</h4>
						<div class="form-group">
							<label>Texto:</label>
							<input type="text" id="eventSubtitle" value="Se√±or de Burgos">
						</div>
						<div class="form-row">
							<div class="form-group">
								<label>Fuente:</label>
								<select id="subtitleFont">
									<option value="Nanum Pen Script" selected>Nanum Pen Script</option>
									<option value="Imperial Script">Imperial Script</option>
									<option value="Style Script">Style Script</option>
									<option value="Poppins">Poppins</option>
									<option value="Staatliches">Staatliches</option>
									<option value="Cursive">Cursive</option>
									<option value="Georgia">Georgia</option>
								</select>
							</div>
							<div class="form-group">
								<label>Tama√±o (px):</label>
								<input type="number" id="subtitleSize" value="25" min="15" max="60">
							</div>
						</div>
						<div class="form-group">
							<label>Color:</label>
							<div class="color-selector">
								<div class="color-option selected" data-color="#d83565"
									style="background-color: #d83565;"></div>
								<div class="color-option" data-color="#F23545" style="background-color: #F23545;"></div>
								<div class="color-option" data-color="#157EBF" style="background-color: #157EBF;"></div>
								<div class="color-option" data-color="#1BA64B" style="background-color: #1BA64B;"></div>
								<div class="color-option" data-color="#F2C029" style="background-color: #F2C029;"></div>
								<input type="color" id="subtitleColorCustom" value="#d83565" class="color-picker">
							</div>
							<input type="hidden" id="subtitleColor" value="#d83565">
						</div>
					</div>

					<div class="form-group">
						<label>Marca/Texto Lateral:</label>
						<input type="text" id="brandText" value="UNHEVAL">
					</div>
				</div>

				<div class="config-section">
					<h3>üìç Ubicaci√≥n</h3>
					<div class="form-group">
						<label>Ubicaci√≥n del Evento:</label>
						<input type="text" id="locationFull" value="UNIVERSIDAD NACIONAL HERMILIO VALDIZ√ÅN"
							placeholder="Ej: UNIVERSIDAD NACIONAL HERMILIO VALDIZ√ÅN">
					</div>
					<input type="hidden" id="location1" value="UNIVERSIDAD NACIONAL HERMILIO VALDIZ√ÅN">
					<input type="hidden" id="location2" value="">
				</div>

				<div class="config-section">
					<h3>üñºÔ∏è Im√°genes y QR</h3>
					<div class="form-group">
						<label>Imagen Principal:</label>
						<div class="image-upload-area" id="imageDropZone">
							<i class="fas fa-cloud-upload-alt"></i>
							<p>Arrastra una imagen aqu√≠ o haz clic</p>
							<input type="file" id="imageFileInput" accept="image/*" style="display: none;">
						</div>
						<input type="text" id="imageUrl" placeholder="O pega la URL aqu√≠" value="">
					</div>
					<div class="form-group">
						<label>Enlace para C√≥digo QR:</label>
						<input type="text" id="qrLink" placeholder="Ej: https://unheval.edu.pe/evento"
							value="https://unheval.edu.pe">
						<small style="color: #7f8c8d; font-size: 12px;">El QR se generar√° autom√°ticamente con este
							enlace</small>
					</div>
				</div>

				<div class="config-section">
					<h3>üé´ Vale</h3>
					<div class="form-row">
						<div class="form-group">
							<label>Tipo:</label>
							<input type="text" id="voucherType" value="REFRIGERIO">
						</div>
						<div class="form-group">
							<label>Cantidad:</label>
							<input type="number" id="voucherQuantity" value="1" min="1">
						</div>
					</div>
					<div class="form-group">
						<label>Fuente del Vale:</label>
						<select id="voucherFont">
							<option value="Staatliches" selected>Staatliches (Original)</option>
							<option value="Imperial Script">Imperial Script</option>
							<option value="Style Script">Style Script</option>
							<option value="Poppins">Poppins</option>
							<option value="Arial">Arial</option>
							<option value="Impact">Impact</option>
						</select>
					</div>
					<div class="form-group">
						<label>Color:</label>
						<div class="color-selector">
							<div class="color-option selected" data-color="#000000" style="background-color: #000000;">
							</div>
							<div class="color-option" data-color="#F23545" style="background-color: #F23545;"></div>
							<div class="color-option" data-color="#157EBF" style="background-color: #157EBF;"></div>
							<div class="color-option" data-color="#1BA64B" style="background-color: #1BA64B;"></div>
							<div class="color-option" data-color="#F2C029" style="background-color: #F2C029;"></div>
							<input type="color" id="voucherColorCustom" value="#000000" class="color-picker">
						</div>
						<input type="hidden" id="voucherColor" value="#000000">
					</div>
				</div>
				<div class="config-section split-config" style="grid-row: span 1;">
					<h3>üíæ Opciones de Exportaci√≥n</h3>
					<div class="form-group">
						<label class="checkbox-container"
							style="display: flex; align-items: center; gap: 10px; cursor: pointer; color: var(--text-primary); font-size: 13px;">
							<input type="checkbox" id="splitPdf" checked style="width: auto;">
							Dividir PDF autom√°ticamente (>200 tickets)
						</label>
					</div>
				</div>
			</div>

			<div class="button-group">
				<button id="downloadPdfButton" class="btn btn-success">
					<i class="fas fa-download"></i> Descargar PDF Directamente
				</button>
				<button id="printButton" class="btn btn-primary" style="margin-left: 10px;">
					<i class="fas fa-print"></i> Imprimir (Vista Previa)
				</button>
			</div>

			<div class="info-box">
				<i class="fas fa-info-circle"></i>
				Los tickets se generar√°n con numeraci√≥n desde <strong id="previewStart">0001</strong> hasta <strong
					id="previewEnd">0050</strong>.
				La vista previa se actualiza autom√°ticamente abajo.
			</div>
		</div>
	</div>

	<!-- √Årea de Vista Previa en Vivo -->
	<div id="previewArea" class="preview-area">
		<h2 style="text-align: center; color: #4a437e; margin-bottom: 20px;">
			<i class="fas fa-eye"></i> Vista Previa de Tickets
		</h2>
		<div id="previewContainer" class="preview-container"></div>
	</div>

	<!-- √Årea de Impresi√≥n (oculta) -->
	<div id="printArea" class="print-area"></div>

	<!-- Ticket Original (Template oculto) -->
	<div id="ticketTemplate" style="display: none;">
		<div class="ticket created-by-anniedotexe">
			<div class="left">
				<div class="image">
					<p class="admit-one">
						<span>UNHEVAL</span>
						<span>UNHEVAL</span>
						<span>UNHEVAL</span>
					</p>
					<div class="ticket-number">
						<p>
							#20030220
						</p>
					</div>
				</div>
				<div class="ticket-info">
					<p class="date">
						<span>VIERNES</span>
						<span class="june-29">17 DE OCTUBRE</span>
						<span>2025</span>
					</p>
					<div class="show-name">
						<h1>MES MORADO</h1>
						<h2>Se√±or de Burgos</h2>
					</div>
					<div class="time">
						<p>VALE POR <span>1</span> REFRIGERIO</p>
					</div>
					<p class="location"><span>UNIVERSIDAD NACIONAL</span>
						<span class="separator">‚Ä¢</span><span>HERMILIO VALDIZ√ÅN</span>
					</p>
				</div>
			</div>
			<div class="right">
				<p class="admit-one">
					<span>UNHEVAL</span>
					<span>UNHEVAL</span>
					<span>UNHEVAL</span>
				</p>
				<div class="right-info-container">
					<div class="show-name">
						<h1>MES MORADO</h1>
					</div>
					<div class="time">
						<p>VALE POR <span>1</span> REFRIGERIO</p>
					</div>
					<div class="barcode">
						<img src="https://external-preview.redd.it/cg8k976AV52mDvDb5jDVJABPrSZ3tpi1aXhPjgcDTbw.png?auto=webp&s=1c205ba303c1fa0370b813ea83b9e1bddb7215eb"
							alt="QR code">
					</div>
					<p class="ticket-number">
						#20030220
					</p>
				</div>
			</div>
		</div>
	</div>

	<!-- Bibliotecas PDF y QR - versiones estables modernas -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

	<script src="./src/config.js"></script>
	<script src="./src/modules/toast.js"></script>
	<script src="./src/modules/utils.js"></script>
	<script src="./src/modules/qrGenerator.js"></script>
	<script src="./src/modules/configManager.js"></script>
	<script src="./src/modules/ticketRenderer.js"></script>
	<script src="./src/modules/imageHandler.js"></script>
	<script src="./src/modules/uiSetup.js"></script>
	<script src="./src/modules/pdfGenerator.js"></script>
	<script src="./src/app.js"></script>

</body>

</html>